import{r as se,j as m}from"./index-CCmJMWXG.js";import{L as Ee,F as Ie,d as U,V as de,e as Pe,f as Ce,g as ve,h as be,i as Le,j as we,k as Re,l as ue,S as fe,a as Ge,C as Te,P as Ve,W as Oe,O as De,A as Be,D as Fe,G as We,m as qe,E as ze,M as He,n as Ue,b as Xe,B as je,c as Ye}from"./OrbitControls-BouBgU_F.js";import{S as Qe}from"./SEO-Dq0iYSMN.js";import{T as Je}from"./ToolLayout-BRO4M_A0.js";import"./toolsData-IDNgvhJl.js";const $e=Re;class ye extends Ee{constructor(O){super(O),this.defaultDPI=90,this.defaultUnit="px"}load(O,Q,D,C){const E=this,J=new Ie(E.manager);J.setPath(E.path),J.setRequestHeader(E.requestHeader),J.setWithCredentials(E.withCredentials),J.load(O,function(te){try{Q(E.parse(te))}catch(K){C?C(K):console.error(K),E.manager.itemError(O)}},D,C)}parse(O){const Q=this;function D(r,n){if(r.nodeType!==1)return;const t=S(r);let e=!1,a=null;switch(r.nodeName){case"svg":n=X(r,n);break;case"style":E(r);break;case"g":n=X(r,n);break;case"path":n=X(r,n),r.hasAttribute("d")&&(a=C(r));break;case"rect":n=X(r,n),a=K(r);break;case"polygon":n=X(r,n),a=Z(r);break;case"polyline":n=X(r,n),a=_(r);break;case"circle":n=X(r,n),a=W(r);break;case"ellipse":n=X(r,n),a=B(r);break;case"line":n=X(r,n),a=ne(r);break;case"defs":e=!0;break;case"use":n=X(r,n);const h=(r.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),g=r.viewportElement.getElementById(h);g?D(g,n):console.warn("SVGLoader: 'use node' references non-existent node id: "+h);break}a&&(n.fill!==void 0&&n.fill!=="none"&&a.color.setStyle(n.fill,$e),P(a,oe),y.push(a),a.userData={node:r,style:n});const d=r.childNodes;for(let i=0;i<d.length;i++){const h=d[i];e&&h.nodeName!=="style"&&h.nodeName!=="defs"||D(h,n)}t&&(I.pop(),I.length>0?oe.copy(I[I.length-1]):oe.identity())}function C(r){const n=new fe,t=new U,e=new U,a=new U;let d=!0,i=!1;const h=r.getAttribute("d");if(h===""||h==="none")return null;const g=h.match(/[a-df-z][^a-df-z]*/ig);for(let b=0,c=g.length;b<c;b++){const f=g[b],N=f.charAt(0),k=f.slice(1).trim();d===!0&&(i=!0,d=!1);let o;switch(N){case"M":o=p(k);for(let s=0,T=o.length;s<T;s+=2)t.x=o[s+0],t.y=o[s+1],e.x=t.x,e.y=t.y,s===0?n.moveTo(t.x,t.y):n.lineTo(t.x,t.y),s===0&&a.copy(t);break;case"H":o=p(k);for(let s=0,T=o.length;s<T;s++)t.x=o[s],e.x=t.x,e.y=t.y,n.lineTo(t.x,t.y),s===0&&i===!0&&a.copy(t);break;case"V":o=p(k);for(let s=0,T=o.length;s<T;s++)t.y=o[s],e.x=t.x,e.y=t.y,n.lineTo(t.x,t.y),s===0&&i===!0&&a.copy(t);break;case"L":o=p(k);for(let s=0,T=o.length;s<T;s+=2)t.x=o[s+0],t.y=o[s+1],e.x=t.x,e.y=t.y,n.lineTo(t.x,t.y),s===0&&i===!0&&a.copy(t);break;case"C":o=p(k);for(let s=0,T=o.length;s<T;s+=6)n.bezierCurveTo(o[s+0],o[s+1],o[s+2],o[s+3],o[s+4],o[s+5]),e.x=o[s+2],e.y=o[s+3],t.x=o[s+4],t.y=o[s+5],s===0&&i===!0&&a.copy(t);break;case"S":o=p(k);for(let s=0,T=o.length;s<T;s+=4)n.bezierCurveTo(w(t.x,e.x),w(t.y,e.y),o[s+0],o[s+1],o[s+2],o[s+3]),e.x=o[s+0],e.y=o[s+1],t.x=o[s+2],t.y=o[s+3],s===0&&i===!0&&a.copy(t);break;case"Q":o=p(k);for(let s=0,T=o.length;s<T;s+=4)n.quadraticCurveTo(o[s+0],o[s+1],o[s+2],o[s+3]),e.x=o[s+0],e.y=o[s+1],t.x=o[s+2],t.y=o[s+3],s===0&&i===!0&&a.copy(t);break;case"T":o=p(k);for(let s=0,T=o.length;s<T;s+=2){const F=w(t.x,e.x),re=w(t.y,e.y);n.quadraticCurveTo(F,re,o[s+0],o[s+1]),e.x=F,e.y=re,t.x=o[s+0],t.y=o[s+1],s===0&&i===!0&&a.copy(t)}break;case"A":o=p(k,[3,4],7);for(let s=0,T=o.length;s<T;s+=7){if(o[s+5]==t.x&&o[s+6]==t.y)continue;const F=t.clone();t.x=o[s+5],t.y=o[s+6],e.x=t.x,e.y=t.y,J(n,o[s],o[s+1],o[s+2],o[s+3],o[s+4],F,t),s===0&&i===!0&&a.copy(t)}break;case"m":o=p(k);for(let s=0,T=o.length;s<T;s+=2)t.x+=o[s+0],t.y+=o[s+1],e.x=t.x,e.y=t.y,s===0?n.moveTo(t.x,t.y):n.lineTo(t.x,t.y),s===0&&a.copy(t);break;case"h":o=p(k);for(let s=0,T=o.length;s<T;s++)t.x+=o[s],e.x=t.x,e.y=t.y,n.lineTo(t.x,t.y),s===0&&i===!0&&a.copy(t);break;case"v":o=p(k);for(let s=0,T=o.length;s<T;s++)t.y+=o[s],e.x=t.x,e.y=t.y,n.lineTo(t.x,t.y),s===0&&i===!0&&a.copy(t);break;case"l":o=p(k);for(let s=0,T=o.length;s<T;s+=2)t.x+=o[s+0],t.y+=o[s+1],e.x=t.x,e.y=t.y,n.lineTo(t.x,t.y),s===0&&i===!0&&a.copy(t);break;case"c":o=p(k);for(let s=0,T=o.length;s<T;s+=6)n.bezierCurveTo(t.x+o[s+0],t.y+o[s+1],t.x+o[s+2],t.y+o[s+3],t.x+o[s+4],t.y+o[s+5]),e.x=t.x+o[s+2],e.y=t.y+o[s+3],t.x+=o[s+4],t.y+=o[s+5],s===0&&i===!0&&a.copy(t);break;case"s":o=p(k);for(let s=0,T=o.length;s<T;s+=4)n.bezierCurveTo(w(t.x,e.x),w(t.y,e.y),t.x+o[s+0],t.y+o[s+1],t.x+o[s+2],t.y+o[s+3]),e.x=t.x+o[s+0],e.y=t.y+o[s+1],t.x+=o[s+2],t.y+=o[s+3],s===0&&i===!0&&a.copy(t);break;case"q":o=p(k);for(let s=0,T=o.length;s<T;s+=4)n.quadraticCurveTo(t.x+o[s+0],t.y+o[s+1],t.x+o[s+2],t.y+o[s+3]),e.x=t.x+o[s+0],e.y=t.y+o[s+1],t.x+=o[s+2],t.y+=o[s+3],s===0&&i===!0&&a.copy(t);break;case"t":o=p(k);for(let s=0,T=o.length;s<T;s+=2){const F=w(t.x,e.x),re=w(t.y,e.y);n.quadraticCurveTo(F,re,t.x+o[s+0],t.y+o[s+1]),e.x=F,e.y=re,t.x=t.x+o[s+0],t.y=t.y+o[s+1],s===0&&i===!0&&a.copy(t)}break;case"a":o=p(k,[3,4],7);for(let s=0,T=o.length;s<T;s+=7){if(o[s+5]==0&&o[s+6]==0)continue;const F=t.clone();t.x+=o[s+5],t.y+=o[s+6],e.x=t.x,e.y=t.y,J(n,o[s],o[s+1],o[s+2],o[s+3],o[s+4],F,t),s===0&&i===!0&&a.copy(t)}break;case"Z":case"z":n.currentPath.autoClose=!0,n.currentPath.curves.length>0&&(t.copy(a),n.currentPath.currentPoint.copy(t),d=!0);break;default:console.warn(f)}i=!1}return n}function E(r){if(!(!r.sheet||!r.sheet.cssRules||!r.sheet.cssRules.length))for(let n=0;n<r.sheet.cssRules.length;n++){const t=r.sheet.cssRules[n];if(t.type!==1)continue;const e=t.selectorText.split(/,/gm).filter(Boolean).map(a=>a.trim());for(let a=0;a<e.length;a++){const d=Object.fromEntries(Object.entries(t.style).filter(([,i])=>i!==""));L[e[a]]=Object.assign(L[e[a]]||{},d)}}}function J(r,n,t,e,a,d,i,h){if(n==0||t==0){r.lineTo(h.x,h.y);return}e=e*Math.PI/180,n=Math.abs(n),t=Math.abs(t);const g=(i.x-h.x)/2,b=(i.y-h.y)/2,c=Math.cos(e)*g+Math.sin(e)*b,f=-Math.sin(e)*g+Math.cos(e)*b;let N=n*n,k=t*t;const o=c*c,s=f*f,T=o/N+s/k;if(T>1){const me=Math.sqrt(T);n=me*n,t=me*t,N=n*n,k=t*t}const F=N*s+k*o,re=(N*k-F)/F;let ie=Math.sqrt(Math.max(0,re));a===d&&(ie=-ie);const ee=ie*n*f/t,le=-ie*t*c/n,xe=Math.cos(e)*ee-Math.sin(e)*le+(i.x+h.x)/2,Se=Math.sin(e)*ee+Math.cos(e)*le+(i.y+h.y)/2,pe=te(1,0,(c-ee)/n,(f-le)/t),ge=te((c-ee)/n,(f-le)/t,(-c-ee)/n,(-f-le)/t)%(Math.PI*2);r.currentPath.absellipse(xe,Se,n,t,pe,pe+ge,d===0,e)}function te(r,n,t,e){const a=r*t+n*e,d=Math.sqrt(r*r+n*n)*Math.sqrt(t*t+e*e);let i=Math.acos(Math.max(-1,Math.min(1,a/d)));return r*e-n*t<0&&(i=-i),i}function K(r){const n=u(r.getAttribute("x")||0),t=u(r.getAttribute("y")||0),e=u(r.getAttribute("rx")||r.getAttribute("ry")||0),a=u(r.getAttribute("ry")||r.getAttribute("rx")||0),d=u(r.getAttribute("width")),i=u(r.getAttribute("height")),h=1-.551915024494,g=new fe;return g.moveTo(n+e,t),g.lineTo(n+d-e,t),(e!==0||a!==0)&&g.bezierCurveTo(n+d-e*h,t,n+d,t+a*h,n+d,t+a),g.lineTo(n+d,t+i-a),(e!==0||a!==0)&&g.bezierCurveTo(n+d,t+i-a*h,n+d-e*h,t+i,n+d-e,t+i),g.lineTo(n+e,t+i),(e!==0||a!==0)&&g.bezierCurveTo(n+e*h,t+i,n,t+i-a*h,n,t+i-a),g.lineTo(n,t+a),(e!==0||a!==0)&&g.bezierCurveTo(n,t+a*h,n+e*h,t,n+e,t),g}function Z(r){function n(d,i,h){const g=u(i),b=u(h);a===0?e.moveTo(g,b):e.lineTo(g,b),a++}const t=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,e=new fe;let a=0;return r.getAttribute("points").replace(t,n),e.currentPath.autoClose=!0,e}function _(r){function n(d,i,h){const g=u(i),b=u(h);a===0?e.moveTo(g,b):e.lineTo(g,b),a++}const t=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,e=new fe;let a=0;return r.getAttribute("points").replace(t,n),e.currentPath.autoClose=!1,e}function W(r){const n=u(r.getAttribute("cx")||0),t=u(r.getAttribute("cy")||0),e=u(r.getAttribute("r")||0),a=new be;a.absarc(n,t,e,0,Math.PI*2);const d=new fe;return d.subPaths.push(a),d}function B(r){const n=u(r.getAttribute("cx")||0),t=u(r.getAttribute("cy")||0),e=u(r.getAttribute("rx")||0),a=u(r.getAttribute("ry")||0),d=new be;d.absellipse(n,t,e,a,0,Math.PI*2);const i=new fe;return i.subPaths.push(d),i}function ne(r){const n=u(r.getAttribute("x1")||0),t=u(r.getAttribute("y1")||0),e=u(r.getAttribute("x2")||0),a=u(r.getAttribute("y2")||0),d=new fe;return d.moveTo(n,t),d.lineTo(e,a),d.currentPath.autoClose=!1,d}function X(r,n){n=Object.assign({},n);let t={};if(r.hasAttribute("class")){const i=r.getAttribute("class").split(/\s/).filter(Boolean).map(h=>h.trim());for(let h=0;h<i.length;h++)t=Object.assign(t,L["."+i[h]])}r.hasAttribute("id")&&(t=Object.assign(t,L["#"+r.getAttribute("id")]));function e(i,h,g){g===void 0&&(g=function(c){return c.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),c}),r.hasAttribute(i)&&(n[h]=g(r.getAttribute(i))),t[h]&&(n[h]=g(t[h])),r.style&&r.style[i]!==""&&(n[h]=g(r.style[i]))}function a(i){return Math.max(0,Math.min(1,u(i)))}function d(i){return Math.max(0,u(i))}return e("fill","fill"),e("fill-opacity","fillOpacity",a),e("fill-rule","fillRule"),e("opacity","opacity",a),e("stroke","stroke"),e("stroke-opacity","strokeOpacity",a),e("stroke-width","strokeWidth",d),e("stroke-linejoin","strokeLineJoin"),e("stroke-linecap","strokeLineCap"),e("stroke-miterlimit","strokeMiterLimit",d),e("visibility","visibility"),n}function w(r,n){return r-(n-r)}function p(r,n,t){if(typeof r!="string")throw new TypeError("Invalid input: "+typeof r);const e={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},a=0,d=1,i=2,h=3;let g=a,b=!0,c="",f="";const N=[];function k(F,re,ie){const ee=new SyntaxError('Unexpected character "'+F+'" at index '+re+".");throw ee.partial=ie,ee}function o(){c!==""&&(f===""?N.push(Number(c)):N.push(Number(c)*Math.pow(10,Number(f)))),c="",f=""}let s;const T=r.length;for(let F=0;F<T;F++){if(s=r[F],Array.isArray(n)&&n.includes(N.length%t)&&e.FLAGS.test(s)){g=d,c=s,o();continue}if(g===a){if(e.WHITESPACE.test(s))continue;if(e.DIGIT.test(s)||e.SIGN.test(s)){g=d,c=s;continue}if(e.POINT.test(s)){g=i,c=s;continue}e.COMMA.test(s)&&(b&&k(s,F,N),b=!0)}if(g===d){if(e.DIGIT.test(s)){c+=s;continue}if(e.POINT.test(s)){c+=s,g=i;continue}if(e.EXP.test(s)){g=h;continue}e.SIGN.test(s)&&c.length===1&&e.SIGN.test(c[0])&&k(s,F,N)}if(g===i){if(e.DIGIT.test(s)){c+=s;continue}if(e.EXP.test(s)){g=h;continue}e.POINT.test(s)&&c[c.length-1]==="."&&k(s,F,N)}if(g===h){if(e.DIGIT.test(s)){f+=s;continue}if(e.SIGN.test(s)){if(f===""){f+=s;continue}f.length===1&&e.SIGN.test(f)&&k(s,F,N)}}e.WHITESPACE.test(s)?(o(),g=a,b=!1):e.COMMA.test(s)?(o(),g=a,b=!0):e.SIGN.test(s)?(o(),g=d,c=s):e.POINT.test(s)?(o(),g=i,c=s):k(s,F,N)}return o(),N}const j=["mm","cm","in","pt","pc","px"],G={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function u(r){let n="px";if(typeof r=="string"||r instanceof String)for(let e=0,a=j.length;e<a;e++){const d=j[e];if(r.endsWith(d)){n=d,r=r.substring(0,r.length-d.length);break}}let t;return n==="px"&&Q.defaultUnit!=="px"?t=G.in[Q.defaultUnit]/Q.defaultDPI:(t=G[n][Q.defaultUnit],t<0&&(t=G[n].in*Q.defaultDPI)),t*parseFloat(r)}function S(r){if(!(r.hasAttribute("transform")||r.nodeName==="use"&&(r.hasAttribute("x")||r.hasAttribute("y"))))return null;const n=A(r);return I.length>0&&n.premultiply(I[I.length-1]),oe.copy(n),I.push(n),n}function A(r){const n=new ue,t=z;if(r.nodeName==="use"&&(r.hasAttribute("x")||r.hasAttribute("y"))){const e=u(r.getAttribute("x")||0),a=u(r.getAttribute("y")||0);n.translate(e,a)}if(r.hasAttribute("transform")){const e=r.getAttribute("transform").split(")");for(let a=e.length-1;a>=0;a--){const d=e[a].trim();if(d==="")continue;const i=d.indexOf("("),h=d.length;if(i>0&&i<h){const g=d.slice(0,i),b=p(d.slice(i+1));switch(t.identity(),g){case"translate":if(b.length>=1){const c=b[0];let f=0;b.length>=2&&(f=b[1]),t.translate(c,f)}break;case"rotate":if(b.length>=1){let c=0,f=0,N=0;c=b[0]*Math.PI/180,b.length>=3&&(f=b[1],N=b[2]),Y.makeTranslation(-f,-N),M.makeRotation(c),l.multiplyMatrices(M,Y),Y.makeTranslation(f,N),t.multiplyMatrices(Y,l)}break;case"scale":if(b.length>=1){const c=b[0];let f=c;b.length>=2&&(f=b[1]),t.scale(c,f)}break;case"skewX":b.length===1&&t.set(1,Math.tan(b[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":b.length===1&&t.set(1,0,0,Math.tan(b[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":b.length===6&&t.set(b[0],b[2],b[4],b[1],b[3],b[5],0,0,1);break}}n.premultiply(t)}}return n}function P(r,n){function t(i){$.set(i.x,i.y,1).applyMatrix3(n),i.set($.x,$.y)}function e(i){const h=i.xRadius,g=i.yRadius,b=Math.cos(i.aRotation),c=Math.sin(i.aRotation),f=new de(h*b,h*c,0),N=new de(-g*c,g*b,0),k=f.applyMatrix3(n),o=N.applyMatrix3(n),s=z.set(k.x,o.x,0,k.y,o.y,0,0,0,1),T=Y.copy(s).invert(),ie=M.copy(T).transpose().multiply(T).elements,ee=q(ie[0],ie[1],ie[4]),le=Math.sqrt(ee.rt1),xe=Math.sqrt(ee.rt2);if(i.xRadius=1/le,i.yRadius=1/xe,i.aRotation=Math.atan2(ee.sn,ee.cs),!((i.aEndAngle-i.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const pe=Y.set(le,0,0,0,xe,0,0,0,1),ge=M.set(ee.cs,ee.sn,0,-ee.sn,ee.cs,0,0,0,1),me=pe.multiply(ge).multiply(s),Ne=ke=>{const{x:Ae,y:Me}=new de(Math.cos(ke),Math.sin(ke),0).applyMatrix3(me);return Math.atan2(Me,Ae)};i.aStartAngle=Ne(i.aStartAngle),i.aEndAngle=Ne(i.aEndAngle),V(n)&&(i.aClockwise=!i.aClockwise)}}function a(i){const h=R(n),g=x(n);i.xRadius*=h,i.yRadius*=g;const b=h>Number.EPSILON?Math.atan2(n.elements[1],n.elements[0]):Math.atan2(-n.elements[3],n.elements[4]);i.aRotation+=b,V(n)&&(i.aStartAngle*=-1,i.aEndAngle*=-1,i.aClockwise=!i.aClockwise)}const d=r.subPaths;for(let i=0,h=d.length;i<h;i++){const b=d[i].curves;for(let c=0;c<b.length;c++){const f=b[c];f.isLineCurve?(t(f.v1),t(f.v2)):f.isCubicBezierCurve?(t(f.v0),t(f.v1),t(f.v2),t(f.v3)):f.isQuadraticBezierCurve?(t(f.v0),t(f.v1),t(f.v2)):f.isEllipseCurve&&(H.set(f.aX,f.aY),t(H),f.aX=H.x,f.aY=H.y,v(n)?e(f):a(f))}}}function V(r){const n=r.elements;return n[0]*n[4]-n[1]*n[3]<0}function v(r){const n=r.elements,t=n[0]*n[3]+n[1]*n[4];if(t===0)return!1;const e=R(r),a=x(r);return Math.abs(t/(e*a))>Number.EPSILON}function R(r){const n=r.elements;return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function x(r){const n=r.elements;return Math.sqrt(n[3]*n[3]+n[4]*n[4])}function q(r,n,t){let e,a,d,i,h;const g=r+t,b=r-t,c=Math.sqrt(b*b+4*n*n);return g>0?(e=.5*(g+c),h=1/e,a=r*h*t-n*h*n):g<0?a=.5*(g-c):(e=.5*c,a=-.5*c),b>0?d=b+c:d=b-c,Math.abs(d)>2*Math.abs(n)?(h=-2*n/d,i=1/Math.sqrt(1+h*h),d=h*i):Math.abs(n)===0?(d=1,i=0):(h=-.5*d/n,d=1/Math.sqrt(1+h*h),i=h*d),b>0&&(h=d,d=-i,i=h),{rt1:e,rt2:a,cs:d,sn:i}}const y=[],L={},I=[],z=new ue,Y=new ue,M=new ue,l=new ue,H=new U,$=new de,oe=new ue,ae=new DOMParser().parseFromString(O,"image/svg+xml");return D(ae.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:y,xml:ae.documentElement}}static createShapes(O){const D={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},C={loc:D.ORIGIN,t:0};function E(w,p,j,G){const u=w.x,S=p.x,A=j.x,P=G.x,V=w.y,v=p.y,R=j.y,x=G.y,q=(P-A)*(V-R)-(x-R)*(u-A),y=(S-u)*(V-R)-(v-V)*(u-A),L=(x-R)*(S-u)-(P-A)*(v-V),I=q/L,z=y/L;if(L===0&&q!==0||I<=0||I>=1||z<0||z>1)return null;if(q===0&&L===0){for(let Y=0;Y<2;Y++)if(J(Y===0?j:G,w,p),C.loc==D.ORIGIN){const M=Y===0?j:G;return{x:M.x,y:M.y,t:C.t}}else if(C.loc==D.BETWEEN){const M=+(u+C.t*(S-u)).toPrecision(10),l=+(V+C.t*(v-V)).toPrecision(10);return{x:M,y:l,t:C.t}}return null}else{for(let l=0;l<2;l++)if(J(l===0?j:G,w,p),C.loc==D.ORIGIN){const H=l===0?j:G;return{x:H.x,y:H.y,t:C.t}}const Y=+(u+I*(S-u)).toPrecision(10),M=+(V+I*(v-V)).toPrecision(10);return{x:Y,y:M,t:I}}}function J(w,p,j){const G=j.x-p.x,u=j.y-p.y,S=w.x-p.x,A=w.y-p.y,P=G*A-S*u;if(w.x===p.x&&w.y===p.y){C.loc=D.ORIGIN,C.t=0;return}if(w.x===j.x&&w.y===j.y){C.loc=D.DESTINATION,C.t=1;return}if(P<-Number.EPSILON){C.loc=D.LEFT;return}if(P>Number.EPSILON){C.loc=D.RIGHT;return}if(G*S<0||u*A<0){C.loc=D.BEHIND;return}if(Math.sqrt(G*G+u*u)<Math.sqrt(S*S+A*A)){C.loc=D.BEYOND;return}let V;G!==0?V=S/G:V=A/u,C.loc=D.BETWEEN,C.t=V}function te(w,p){const j=[],G=[];for(let u=1;u<w.length;u++){const S=w[u-1],A=w[u];for(let P=1;P<p.length;P++){const V=p[P-1],v=p[P],R=E(S,A,V,v);R!==null&&j.find(x=>x.t<=R.t+Number.EPSILON&&x.t>=R.t-Number.EPSILON)===void 0&&(j.push(R),G.push(new U(R.x,R.y)))}}return G}function K(w,p,j){const G=new U;p.getCenter(G);const u=[];return j.forEach(S=>{S.boundingBox.containsPoint(G)&&te(w,S.points).forEach(P=>{u.push({identifier:S.identifier,isCW:S.isCW,point:P})})}),u.sort((S,A)=>S.point.x-A.point.x),u}function Z(w,p,j,G,u){(u==null||u==="")&&(u="nonzero");const S=new U;w.boundingBox.getCenter(S);const A=[new U(j,S.y),new U(G,S.y)],P=K(A,w.boundingBox,p);P.sort((y,L)=>y.point.x-L.point.x);const V=[],v=[];P.forEach(y=>{y.identifier===w.identifier?V.push(y):v.push(y)});const R=V[0].point.x,x=[];let q=0;for(;q<v.length&&v[q].point.x<R;)x.length>0&&x[x.length-1]===v[q].identifier?x.pop():x.push(v[q].identifier),q++;if(x.push(w.identifier),u==="evenodd"){const y=x.length%2===0,L=x[x.length-2];return{identifier:w.identifier,isHole:y,for:L}}else if(u==="nonzero"){let y=!0,L=null,I=null;for(let z=0;z<x.length;z++){const Y=x[z];y?(I=p[Y].isCW,y=!1,L=Y):I!==p[Y].isCW&&(I=p[Y].isCW,y=!0)}return{identifier:w.identifier,isHole:y,for:L}}else console.warn('fill-rule: "'+u+'" is currently not implemented.')}let _=999999999,W=-999999999,B=O.subPaths.map(w=>{const p=w.getPoints();let j=-999999999,G=999999999,u=-999999999,S=999999999;for(let A=0;A<p.length;A++){const P=p[A];P.y>j&&(j=P.y),P.y<G&&(G=P.y),P.x>u&&(u=P.x),P.x<S&&(S=P.x)}return W<=u&&(W=u+1),_>=S&&(_=S-1),{curves:w.curves,points:p,isCW:Ce.isClockWise(p),identifier:-1,boundingBox:new Pe(new U(S,G),new U(u,j))}});B=B.filter(w=>w.points.length>1);for(let w=0;w<B.length;w++)B[w].identifier=w;const ne=B.map(w=>Z(w,B,_,W,O.userData?O.userData.style.fillRule:void 0)),X=[];return B.forEach(w=>{if(!ne[w.identifier].isHole){const j=new ve;j.curves=w.curves,ne.filter(u=>u.isHole&&u.for===w.identifier).forEach(u=>{const S=B[u.identifier],A=new be;A.curves=S.curves,j.holes.push(A)}),X.push(j)}}),X}static getStrokeStyle(O,Q,D,C,E){return O=O!==void 0?O:1,Q=Q!==void 0?Q:"#000",D=D!==void 0?D:"miter",C=C!==void 0?C:"butt",E=E!==void 0?E:4,{strokeColor:Q,strokeWidth:O,strokeLineJoin:D,strokeLineCap:C,strokeMiterLimit:E}}static pointsToStroke(O,Q,D,C){const E=[],J=[],te=[];if(ye.pointsToStrokeWithBuffers(O,Q,D,C,E,J,te)===0)return null;const K=new Le;return K.setAttribute("position",new we(E,3)),K.setAttribute("normal",new we(J,3)),K.setAttribute("uv",new we(te,2)),K}static pointsToStrokeWithBuffers(O,Q,D,C,E,J,te,K){const Z=new U,_=new U,W=new U,B=new U,ne=new U,X=new U,w=new U,p=new U,j=new U,G=new U,u=new U,S=new U,A=new U,P=new U,V=new U,v=new U,R=new U;D=D!==void 0?D:12,C=C!==void 0?C:.001,K=K!==void 0?K:0,O=b(O);const x=O.length;if(x<2)return 0;const q=O[0].equals(O[x-1]);let y,L=O[0],I;const z=Q.strokeWidth/2,Y=1/(x-1);let M=0,l,H,$,oe,ae=!1,he=0,r=K*3,n=K*2;t(O[0],O[1],Z).multiplyScalar(z),p.copy(O[0]).sub(Z),j.copy(O[0]).add(Z),G.copy(p),u.copy(j);for(let c=1;c<x;c++){y=O[c],c===x-1?q?I=O[1]:I=void 0:I=O[c+1];const f=Z;if(t(L,y,f),W.copy(f).multiplyScalar(z),S.copy(y).sub(W),A.copy(y).add(W),l=M+Y,H=!1,I!==void 0){t(y,I,_),W.copy(_).multiplyScalar(z),P.copy(y).sub(W),V.copy(y).add(W),$=!0,W.subVectors(I,L),f.dot(W)<0&&($=!1),c===1&&(ae=$),W.subVectors(I,y),W.normalize();const N=Math.abs(f.dot(W));if(N>Number.EPSILON){const k=z/N;W.multiplyScalar(-k),B.subVectors(y,L),ne.copy(B).setLength(k).add(W),v.copy(ne).negate();const o=ne.length(),s=B.length();B.divideScalar(s),X.subVectors(I,y);const T=X.length();switch(X.divideScalar(T),B.dot(v)<s&&X.dot(v)<T&&(H=!0),R.copy(ne).add(y),v.add(y),oe=!1,H?$?(V.copy(v),A.copy(v)):(P.copy(v),S.copy(v)):d(),Q.strokeLineJoin){case"bevel":i($,H,l);break;case"round":h($,H),$?a(y,S,P,l,0):a(y,V,A,l,1);break;case"miter":case"miter-clip":default:const F=z*Q.strokeMiterLimit/o;if(F<1)if(Q.strokeLineJoin!=="miter-clip"){i($,H,l);break}else h($,H),$?(X.subVectors(R,S).multiplyScalar(F).add(S),w.subVectors(R,P).multiplyScalar(F).add(P),e(S,l,0),e(X,l,0),e(y,l,.5),e(y,l,.5),e(X,l,0),e(w,l,0),e(y,l,.5),e(w,l,0),e(P,l,0)):(X.subVectors(R,A).multiplyScalar(F).add(A),w.subVectors(R,V).multiplyScalar(F).add(V),e(A,l,1),e(X,l,1),e(y,l,.5),e(y,l,.5),e(X,l,1),e(w,l,1),e(y,l,.5),e(w,l,1),e(V,l,1));else H?($?(e(j,M,1),e(p,M,0),e(R,l,0),e(j,M,1),e(R,l,0),e(v,l,1)):(e(j,M,1),e(p,M,0),e(R,l,1),e(p,M,0),e(v,l,0),e(R,l,1)),$?P.copy(R):V.copy(R)):$?(e(S,l,0),e(R,l,0),e(y,l,.5),e(y,l,.5),e(R,l,0),e(P,l,0)):(e(A,l,1),e(R,l,1),e(y,l,.5),e(y,l,.5),e(R,l,1),e(V,l,1)),oe=!0;break}}else d()}else d();!q&&c===x-1&&g(O[0],G,u,$,!0,M),M=l,L=y,p.copy(P),j.copy(V)}if(!q)g(y,S,A,$,!1,l);else if(H&&E){let c=R,f=v;ae!==$&&(c=v,f=R),$?(oe||ae)&&(f.toArray(E,0*3),f.toArray(E,3*3),oe&&c.toArray(E,1*3)):(oe||!ae)&&(f.toArray(E,1*3),f.toArray(E,3*3),oe&&c.toArray(E,0*3))}return he;function t(c,f,N){return N.subVectors(f,c),N.set(-N.y,N.x).normalize()}function e(c,f,N){E&&(E[r]=c.x,E[r+1]=c.y,E[r+2]=0,J&&(J[r]=0,J[r+1]=0,J[r+2]=1),r+=3,te&&(te[n]=f,te[n+1]=N,n+=2)),he+=3}function a(c,f,N,k,o){Z.copy(f).sub(c).normalize(),_.copy(N).sub(c).normalize();let s=Math.PI;const T=Z.dot(_);Math.abs(T)<1&&(s=Math.abs(Math.acos(T))),s/=D,W.copy(f);for(let F=0,re=D-1;F<re;F++)B.copy(W).rotateAround(c,s),e(W,k,o),e(B,k,o),e(c,k,.5),W.copy(B);e(B,k,o),e(N,k,o),e(c,k,.5)}function d(){e(j,M,1),e(p,M,0),e(S,l,0),e(j,M,1),e(S,l,0),e(A,l,1)}function i(c,f,N){f?c?(e(j,M,1),e(p,M,0),e(S,l,0),e(j,M,1),e(S,l,0),e(v,l,1),e(S,N,0),e(P,N,0),e(v,N,.5)):(e(j,M,1),e(p,M,0),e(A,l,1),e(p,M,0),e(v,l,0),e(A,l,1),e(A,N,1),e(v,N,0),e(V,N,1)):c?(e(S,N,0),e(P,N,0),e(y,N,.5)):(e(A,N,1),e(V,N,0),e(y,N,.5))}function h(c,f){f&&(c?(e(j,M,1),e(p,M,0),e(S,l,0),e(j,M,1),e(S,l,0),e(v,l,1),e(S,M,0),e(y,l,.5),e(v,l,1),e(y,l,.5),e(P,M,0),e(v,l,1)):(e(j,M,1),e(p,M,0),e(A,l,1),e(p,M,0),e(v,l,0),e(A,l,1),e(A,M,1),e(v,l,0),e(y,l,.5),e(y,l,.5),e(v,l,0),e(V,M,1)))}function g(c,f,N,k,o,s){switch(Q.strokeLineCap){case"round":o?a(c,N,f,s,.5):a(c,f,N,s,.5);break;case"square":if(o)Z.subVectors(f,c),_.set(Z.y,-Z.x),W.addVectors(Z,_).add(c),B.subVectors(_,Z).add(c),k?(W.toArray(E,1*3),B.toArray(E,0*3),B.toArray(E,3*3)):(W.toArray(E,1*3),te[3*2+1]===1?B.toArray(E,3*3):W.toArray(E,3*3),B.toArray(E,0*3));else{Z.subVectors(N,c),_.set(Z.y,-Z.x),W.addVectors(Z,_).add(c),B.subVectors(_,Z).add(c);const T=E.length;k?(W.toArray(E,T-1*3),B.toArray(E,T-2*3),B.toArray(E,T-4*3)):(B.toArray(E,T-2*3),W.toArray(E,T-1*3),B.toArray(E,T-4*3))}break}}function b(c){let f=!1;for(let k=1,o=c.length-1;k<o;k++)if(c[k].distanceTo(c[k+1])<C){f=!0;break}if(!f)return c;const N=[];N.push(c[0]);for(let k=1,o=c.length-1;k<o;k++)c[k].distanceTo(c[k+1])>=C&&N.push(c[k]);return N.push(c[c.length-1]),N}}}function st(){var R;const[ce,O]=se.useState(null),[Q,D]=se.useState(""),[C,E]=se.useState(5),[J,te]=se.useState(1),[K,Z]=se.useState("#6366f1"),[_,W]=se.useState(!0),[B,ne]=se.useState(null),[X,w]=se.useState(!1),[p,j]=se.useState(!1),[G,u]=se.useState(""),S=se.useRef(),A=se.useRef({}),P=se.useRef();se.useEffect(()=>{if(!S.current)return;const x=S.current.clientWidth,q=380,y=new Ge;y.background=new Te(15857145);const L=new Ve(45,x/q,.1,2e3);L.position.set(0,50,150);const I=new Oe({antialias:!0});I.setSize(x,q),I.setPixelRatio(window.devicePixelRatio),S.current.appendChild(I.domElement);const z=new De(L,I.domElement);z.enableDamping=!0,y.add(new Be(16777215,.6));const Y=new Fe(16777215,1);Y.position.set(30,50,40),y.add(Y),y.add(new We(200,20,13421772,15066597)),A.current={scene:y,camera:L,renderer:I,controls:z};const M=()=>{requestAnimationFrame(M),z.update(),I.render(y,L)};M();const l=()=>{if(!S.current)return;const H=S.current.clientWidth;L.aspect=H/q,L.updateProjectionMatrix(),I.setSize(H,q)};return window.addEventListener("resize",l),()=>{var H;window.removeEventListener("resize",l),(H=S.current)==null||H.removeChild(I.domElement),I.dispose()}},[]);const V=se.useCallback(x=>{if(!x)return;O(x),ne(null),u("");const q=new FileReader;q.onload=y=>{D(y.target.result)},q.readAsText(x)},[]);se.useEffect(()=>{if(!Q||!A.current.scene)return;const{scene:x,camera:q}=A.current;x.children.filter(L=>L.name==="svgGroup").forEach(L=>{x.remove(L),L.traverse(I=>{var z,Y;(z=I.geometry)==null||z.dispose(),(Y=I.material)==null||Y.dispose()})});try{const I=new ye().parse(Q),z=new qe;if(z.name="svgGroup",I.paths.forEach(H=>{ye.createShapes(H).forEach(oe=>{const ae=new ze(oe,{depth:C,bevelEnabled:!1}),he=new He({color:new Te(H.color?`#${H.color.getHexString()}`:K),shininess:60,side:Ue}),r=new Xe(ae,he);z.add(r)})}),z.scale.set(J,-J,J),_){const $=new je().setFromObject(z).getCenter(new de);z.position.sub($)}x.add(z);const M=new je().setFromObject(z).getSize(new de),l=Math.max(M.x,M.y,M.z);q.position.set(0,l*.5,l*2),q.lookAt(0,0,0),u("")}catch(L){u("Could not parse SVG: "+L.message)}},[Q,C,J,K,_]);const v=()=>{const{scene:x}=A.current,q=x==null?void 0:x.children.find(y=>y.name==="svgGroup");q&&(w(!0),setTimeout(()=>{const L=new Ye().parse(q,{binary:!0}),I=new Blob([L],{type:"application/octet-stream"});ne(URL.createObjectURL(I)),w(!1)},200))};return m.jsxs(m.Fragment,{children:[m.jsx(Qe,{title:"SVG to STL Converter - Free Online 3D Tool",description:"Convert SVG files to 3D STL models for 3D printing. Adjust depth, scale, preview in 3D. Free & private.",canonical:"/svg-to-stl"}),m.jsx(Je,{toolSlug:"svg-to-stl",title:"SVG to STL",description:"Convert SVG vector graphics into 3D models and export to STL for CNC and 3D printing.",breadcrumb:"SVG to STL",children:m.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[!ce&&m.jsxs("div",{className:`drop-zone group cursor-pointer ${p?"active":""}`,onDrop:x=>{var q;x.preventDefault(),j(!1),V((q=x.dataTransfer.files)==null?void 0:q[0])},onDragOver:x=>{x.preventDefault(),j(!0)},onDragLeave:()=>j(!1),onClick:()=>{var x;return(x=P.current)==null?void 0:x.click()},children:[m.jsx("input",{ref:P,type:"file",accept:".svg",className:"hidden",onChange:x=>V(x.target.files[0])}),m.jsxs("div",{className:"flex flex-col items-center gap-3",children:[m.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-violet-500/20 group-hover:scale-110 transition-transform",children:m.jsx("i",{className:"fas fa-vector-square text-white text-2xl"})}),m.jsxs("div",{className:"text-center",children:[m.jsxs("p",{className:"text-lg font-bold text-slate-700",children:["Drop SVG file or ",m.jsx("span",{className:"text-blue-600",children:"browse"})]}),m.jsx("p",{className:"text-slate-400 text-sm mt-0.5",children:"SVG → 3D model with extrusion"})]})]})]}),m.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-slate-50 border-b border-slate-100",children:[m.jsxs("span",{className:"text-xs font-bold text-slate-600",children:[m.jsx("i",{className:"fas fa-cube text-indigo-400 mr-1"}),"3D Preview",ce&&m.jsxs("span",{className:"ml-2 text-slate-400",children:["— ",ce.name]})]}),ce&&m.jsxs("button",{onClick:()=>{O(null),D(""),ne(null)},className:"text-xs text-slate-400 hover:text-red-500",children:[m.jsx("i",{className:"fas fa-xmark mr-1"}),"Remove"]})]}),m.jsx("div",{ref:S,className:"w-full",style:{height:380}})]}),G&&m.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-xs text-red-700 flex items-center gap-2",children:[m.jsx("i",{className:"fas fa-exclamation-circle"})," ",G]}),B&&m.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-xl",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("i",{className:"fas fa-circle-check text-green-500"}),m.jsx("span",{className:"font-bold text-green-800 text-sm",children:"STL file ready for 3D printing!"})]}),m.jsxs("a",{href:B,download:`${((R=ce==null?void 0:ce.name)==null?void 0:R.replace(".svg",""))||"model"}.stl`,className:"flex items-center gap-2 px-5 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-xl text-sm font-bold transition-all",children:[m.jsx("i",{className:"fas fa-download"})," Download STL"]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 space-y-4",children:[m.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[m.jsx("i",{className:"fas fa-gear text-indigo-500"})," Extrusion Settings"]}),m.jsxs("div",{children:[m.jsxs("label",{className:"flex justify-between text-[10px] text-slate-500 font-medium mb-1",children:[m.jsx("span",{children:"Extrude Depth"}),m.jsx("span",{className:"font-bold text-indigo-600",children:C})]}),m.jsx("input",{type:"range",min:"1",max:"50",value:C,onChange:x=>E(+x.target.value),className:"slider-range w-full"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"flex justify-between text-[10px] text-slate-500 font-medium mb-1",children:[m.jsx("span",{children:"Scale"}),m.jsxs("span",{className:"font-bold text-indigo-600",children:[J.toFixed(1),"x"]})]}),m.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.1",value:J,onChange:x=>te(+x.target.value),className:"slider-range w-full"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] text-slate-500 mb-1 font-medium",children:"Preview Color (non-colored SVGs)"}),m.jsx("input",{type:"color",value:K,onChange:x=>Z(x.target.value),className:"w-full h-9 rounded-lg border border-slate-200 p-0.5 cursor-pointer"})]}),m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:_,onChange:x=>W(x.target.checked),className:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),m.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Center model at origin"})]}),m.jsx("button",{onClick:v,disabled:!Q||X,className:"w-full py-3.5 bg-gradient-to-r from-violet-500 to-indigo-600 hover:from-violet-600 hover:to-indigo-700 disabled:opacity-50 text-white font-bold rounded-xl transition-all shadow-lg shadow-violet-500/20 flex items-center justify-center gap-2",children:X?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})," Generating..."]}):m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"fas fa-download"})," Export STL"]})}),!ce&&m.jsx("button",{onClick:()=>{var x;return(x=P.current)==null?void 0:x.click()},className:"w-full py-2 bg-slate-100 hover:bg-slate-200 text-slate-600 text-sm rounded-xl transition-all",children:"Upload SVG File"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-indigo-50 rounded-xl border border-violet-100 p-4 space-y-2",children:[m.jsxs("h4",{className:"font-bold text-slate-700 text-sm",children:[m.jsx("i",{className:"fas fa-lightbulb text-amber-500 mr-2"}),"Tips"]}),["Simple SVGs with filled paths work best","Increase depth for thicker models","Scale controls model size","Binary STL is widely compatible"].map(x=>m.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-600",children:[m.jsx("i",{className:"fas fa-check text-green-500 mt-0.5 flex-shrink-0"})," ",x]},x))]})]})]})})]})}export{st as default};
