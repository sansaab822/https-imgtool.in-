import{r as y,u as x,j as o}from"./index-CCmJMWXG.js";import{S as se}from"./SEO-Dq0iYSMN.js";import{T as ne}from"./ToolLayout-BRO4M_A0.js";import"./toolsData-IDNgvhJl.js";var ae=Object.defineProperty,re=(h,e,t)=>e in h?ae(h,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[e]=t,w=(h,e,t)=>re(h,typeof e!="symbol"?e+"":e,t);const X={x:0,y:0,width:0,height:0,unit:"px"},P=(h,e,t)=>Math.min(Math.max(h,e),t),oe=(...h)=>h.filter(e=>e&&typeof e=="string").join(" "),F=(h,e)=>h===e||h.width===e.width&&h.height===e.height&&h.x===e.x&&h.y===e.y&&h.unit===e.unit;function le(h,e,t,a){const i=k(h,t,a);return h.width&&(i.height=i.width/e),h.height&&(i.width=i.height*e),i.y+i.height>a&&(i.height=a-i.y,i.width=i.height*e),i.x+i.width>t&&(i.width=t-i.x,i.height=i.width/e),h.unit==="%"?S(i,t,a):i}function he(h,e,t){const a=k(h,e,t);return a.x=(e-a.width)/2,a.y=(t-a.height)/2,h.unit==="%"?S(a,e,t):a}function S(h,e,t){return h.unit==="%"?{...X,...h,unit:"%"}:{unit:"%",x:h.x?h.x/e*100:0,y:h.y?h.y/t*100:0,width:h.width?h.width/e*100:0,height:h.height?h.height/t*100:0}}function k(h,e,t){return h.unit?h.unit==="px"?{...X,...h,unit:"px"}:{unit:"px",x:h.x?h.x*e/100:0,y:h.y?h.y*t/100:0,width:h.width?h.width*e/100:0,height:h.height?h.height*t/100:0}:{...X,...h,unit:"px"}}function z(h,e,t,a,i,s=0,l=0,u=a,r=i){const n={...h};let p=Math.min(s,a),g=Math.min(l,i),m=Math.min(u,a),c=Math.min(r,i);e&&(e>1?(p=l?l*e:p,g=p/e,m=u*e):(g=s?s/e:g,p=g*e,c=r/e)),n.y<0&&(n.height=Math.max(n.height+n.y,g),n.y=0),n.x<0&&(n.width=Math.max(n.width+n.x,p),n.x=0);const f=a-(n.x+n.width);f<0&&(n.x=Math.min(n.x,a-p),n.width+=f);const v=i-(n.y+n.height);if(v<0&&(n.y=Math.min(n.y,i-g),n.height+=v),n.width<p&&((t==="sw"||t=="nw")&&(n.x-=p-n.width),n.width=p),n.height<g&&((t==="nw"||t=="ne")&&(n.y-=g-n.height),n.height=g),n.width>m&&((t==="sw"||t=="nw")&&(n.x-=m-n.width),n.width=m),n.height>c&&((t==="nw"||t=="ne")&&(n.y-=c-n.height),n.height=c),e){const C=n.width/n.height;if(C<e){const D=Math.max(n.width/e,g);(t==="nw"||t=="ne")&&(n.y-=D-n.height),n.height=D}else if(C>e){const D=Math.max(n.height*e,p);(t==="sw"||t=="nw")&&(n.x-=D-n.width),n.width=D}}return n}function ce(h,e,t,a){const i={...h};return e==="ArrowLeft"?a==="nw"?(i.x-=t,i.y-=t,i.width+=t,i.height+=t):a==="w"?(i.x-=t,i.width+=t):a==="sw"?(i.x-=t,i.width+=t,i.height+=t):a==="ne"?(i.y+=t,i.width-=t,i.height-=t):a==="e"?i.width-=t:a==="se"&&(i.width-=t,i.height-=t):e==="ArrowRight"&&(a==="nw"?(i.x+=t,i.y+=t,i.width-=t,i.height-=t):a==="w"?(i.x+=t,i.width-=t):a==="sw"?(i.x+=t,i.width-=t,i.height-=t):a==="ne"?(i.y-=t,i.width+=t,i.height+=t):a==="e"?i.width+=t:a==="se"&&(i.width+=t,i.height+=t)),e==="ArrowUp"?a==="nw"?(i.x-=t,i.y-=t,i.width+=t,i.height+=t):a==="n"?(i.y-=t,i.height+=t):a==="ne"?(i.y-=t,i.width+=t,i.height+=t):a==="sw"?(i.x+=t,i.width-=t,i.height-=t):a==="s"?i.height-=t:a==="se"&&(i.width-=t,i.height-=t):e==="ArrowDown"&&(a==="nw"?(i.x+=t,i.y+=t,i.width-=t,i.height-=t):a==="n"?(i.y+=t,i.height-=t):a==="ne"?(i.y+=t,i.width-=t,i.height-=t):a==="sw"?(i.x-=t,i.width+=t,i.height+=t):a==="s"?i.height+=t:a==="se"&&(i.width+=t,i.height+=t)),i}const Y={capture:!0,passive:!1};let de=0;const R=class j extends y.PureComponent{constructor(){super(...arguments),w(this,"docMoveBound",!1),w(this,"mouseDownOnCrop",!1),w(this,"dragStarted",!1),w(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),w(this,"componentRef",y.createRef()),w(this,"mediaRef",y.createRef()),w(this,"resizeObserver"),w(this,"initChangeCalled",!1),w(this,"instanceId",`rc-${de++}`),w(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),w(this,"onCropPointerDown",e=>{const{crop:t,disabled:a}=this.props,i=this.getBox();if(!t)return;const s=k(t,i.width,i.height);if(a)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=e.target.dataset.ord,u=!!l;let r=e.clientX,n=e.clientY,p=s.x,g=s.y;if(l){const m=e.clientX-i.x,c=e.clientY-i.y;let f=0,v=0;l==="ne"||l=="e"?(f=m-(s.x+s.width),v=c-s.y,p=s.x,g=s.y+s.height):l==="se"||l==="s"?(f=m-(s.x+s.width),v=c-(s.y+s.height),p=s.x,g=s.y):l==="sw"||l=="w"?(f=m-s.x,v=c-(s.y+s.height),p=s.x+s.width,g=s.y):(l==="nw"||l=="n")&&(f=m-s.x,v=c-s.y,p=s.x+s.width,g=s.y+s.height),r=p+i.x+f,n=g+i.y+v}this.evData={startClientX:r,startClientY:n,startCropX:p,startCropY:g,clientX:e.clientX,clientY:e.clientY,isResize:u,ord:l},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),w(this,"onComponentPointerDown",e=>{const{crop:t,disabled:a,locked:i,keepSelection:s,onChange:l}=this.props,u=this.getBox();if(a||i||s&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const r=e.clientX-u.x,n=e.clientY-u.y,p={unit:"px",x:r,y:n,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:r,startCropY:n,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,l(k(p,u.width,u.height),S(p,u.width,u.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),w(this,"onDocPointerMove",e=>{const{crop:t,disabled:a,onChange:i,onDragStart:s}=this.props,l=this.getBox();if(a||!t||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,s&&s(e));const{evData:u}=this;u.clientX=e.clientX,u.clientY=e.clientY;let r;u.isResize?r=this.resizeCrop():r=this.dragCrop(),F(t,r)||i(k(r,l.width,l.height),S(r,l.width,l.height))}),w(this,"onComponentKeyDown",e=>{const{crop:t,disabled:a,onChange:i,onComplete:s}=this.props;if(a)return;const l=e.key;let u=!1;if(!t)return;const r=this.getBox(),n=this.makePixelCrop(r),p=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?j.nudgeStepLarge:e.shiftKey?j.nudgeStepMedium:j.nudgeStep;if(l==="ArrowLeft"?(n.x-=p,u=!0):l==="ArrowRight"?(n.x+=p,u=!0):l==="ArrowUp"?(n.y-=p,u=!0):l==="ArrowDown"&&(n.y+=p,u=!0),u){e.cancelable&&e.preventDefault(),n.x=P(n.x,0,r.width-n.width),n.y=P(n.y,0,r.height-n.height);const g=k(n,r.width,r.height),m=S(n,r.width,r.height);i(g,m),s&&s(g,m)}}),w(this,"onHandlerKeyDown",(e,t)=>{const{aspect:a=0,crop:i,disabled:s,minWidth:l=0,minHeight:u=0,maxWidth:r,maxHeight:n,onChange:p,onComplete:g}=this.props,m=this.getBox();if(s||!i)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const c=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?j.nudgeStepLarge:e.shiftKey?j.nudgeStepMedium:j.nudgeStep,f=k(i,m.width,m.height),v=ce(f,e.key,c,t),C=z(v,a,t,m.width,m.height,l,u,r,n);if(!F(i,C)){const D=S(C,m.width,m.height);p(C,D),g&&g(C,D)}}),w(this,"onDocPointerDone",e=>{const{crop:t,disabled:a,onComplete:i,onDragEnd:s}=this.props,l=this.getBox();this.unbindDocMove(),!(a||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,s&&s(e),i&&i(k(t,l.width,l.height),S(t,l.width,l.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),w(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:t,y:a,width:i,height:s}=e.getBoundingClientRect();return{x:t,y:a,width:i,height:s}}componentDidUpdate(e){const{crop:t,onComplete:a}=this.props;if(a&&!e.crop&&t){const{width:i,height:s}=this.getBox();i&&s&&a(k(t,i,s),S(t,i,s))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Y),this.document.addEventListener("pointerup",this.onDocPointerDone,Y),this.document.addEventListener("pointercancel",this.onDocPointerDone,Y),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Y),this.document.removeEventListener("pointerup",this.onDocPointerDone,Y),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Y),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,t=this.getBox(),a=this.makePixelCrop(t),i=e.clientX-e.startClientX,s=e.clientY-e.startClientY;return a.x=P(e.startCropX+i,0,t.width-a.width),a.y=P(e.startCropY+s,0,t.height-a.height),a}getPointRegion(e,t,a,i){const{evData:s}=this,l=s.clientX-e.x,u=s.clientY-e.y;let r;i&&t?r=t==="nw"||t==="n"||t==="ne":r=u<s.startCropY;let n;return a&&t?n=t==="nw"||t==="w"||t==="sw":n=l<s.startCropX,n?r?"nw":"sw":r?"ne":"se"}resolveMinDimensions(e,t,a=0,i=0){const s=Math.min(a,e.width),l=Math.min(i,e.height);return!t||!s&&!l?[s,l]:t>1?s?[s,s/t]:[l*t,l]:l?[l*t,l]:[s,s/t]}resizeCrop(){const{evData:e}=this,{aspect:t=0,maxWidth:a,maxHeight:i}=this.props,s=this.getBox(),[l,u]=this.resolveMinDimensions(s,t,this.props.minWidth,this.props.minHeight);let r=this.makePixelCrop(s);const n=this.getPointRegion(s,e.ord,l,u),p=e.ord||n;let g=e.clientX-e.startClientX,m=e.clientY-e.startClientY;(l&&p==="nw"||p==="w"||p==="sw")&&(g=Math.min(g,-l)),(u&&p==="nw"||p==="n"||p==="ne")&&(m=Math.min(m,-u));const c={unit:"px",x:0,y:0,width:0,height:0};n==="ne"?(c.x=e.startCropX,c.width=g,t?(c.height=c.width/t,c.y=e.startCropY-c.height):(c.height=Math.abs(m),c.y=e.startCropY-c.height)):n==="se"?(c.x=e.startCropX,c.y=e.startCropY,c.width=g,t?c.height=c.width/t:c.height=m):n==="sw"?(c.x=e.startCropX+g,c.y=e.startCropY,c.width=Math.abs(g),t?c.height=c.width/t:c.height=m):n==="nw"&&(c.x=e.startCropX+g,c.width=Math.abs(g),t?(c.height=c.width/t,c.y=e.startCropY-c.height):(c.height=Math.abs(m),c.y=e.startCropY+m));const f=z(c,t,n,s.width,s.height,l,u,a,i);return t||j.xyOrds.indexOf(p)>-1?r=f:j.xOrds.indexOf(p)>-1?(r.x=f.x,r.width=f.width):j.yOrds.indexOf(p)>-1&&(r.y=f.y,r.height=f.height),r.x=P(r.x,0,s.width-r.width),r.y=P(r.y,0,s.height-r.height),r}renderCropSelection(){const{ariaLabels:e=j.defaultProps.ariaLabels,disabled:t,locked:a,renderSelectionAddon:i,ruleOfThirds:s,crop:l}=this.props,u=this.getCropStyle();if(l)return x.createElement("div",{style:u,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!t&&!a&&x.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},x.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),x.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),x.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),x.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),x.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:r=>this.onHandlerKeyDown(r,"nw"),role:"button"}),x.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:r=>this.onHandlerKeyDown(r,"n"),role:"button"}),x.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:r=>this.onHandlerKeyDown(r,"ne"),role:"button"}),x.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:r=>this.onHandlerKeyDown(r,"e"),role:"button"}),x.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:r=>this.onHandlerKeyDown(r,"se"),role:"button"}),x.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:r=>this.onHandlerKeyDown(r,"s"),role:"button"}),x.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:r=>this.onHandlerKeyDown(r,"sw"),role:"button"}),x.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:r=>this.onHandlerKeyDown(r,"w"),role:"button"})),i&&x.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:r=>r.stopPropagation()},i(this.state)),s&&x.createElement(x.Fragment,null,x.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),x.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const t={...X,...this.props.crop||{}};return k(t,e.width,e.height)}render(){const{aspect:e,children:t,circularCrop:a,className:i,crop:s,disabled:l,locked:u,style:r,ruleOfThirds:n}=this.props,{cropIsActive:p,newCropIsBeingDrawn:g}=this.state,m=s?this.renderCropSelection():null,c=oe("ReactCrop",i,p&&"ReactCrop--active",l&&"ReactCrop--disabled",u&&"ReactCrop--locked",g&&"ReactCrop--new-crop",s&&e&&"ReactCrop--fixed-aspect",s&&a&&"ReactCrop--circular-crop",s&&n&&"ReactCrop--rule-of-thirds",!this.dragStarted&&s&&!s.width&&!s.height&&"ReactCrop--invisible-crop",a&&"ReactCrop--no-animate");return x.createElement("div",{ref:this.componentRef,className:c,style:r},x.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),s?x.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},x.createElement("defs",null,x.createElement("mask",{id:`hole-${this.instanceId}`},x.createElement("rect",{width:"100%",height:"100%",fill:"white"}),a?x.createElement("ellipse",{cx:`${s.x+s.width/2}${s.unit}`,cy:`${s.y+s.height/2}${s.unit}`,rx:`${s.width/2}${s.unit}`,ry:`${s.height/2}${s.unit}`,fill:"black"}):x.createElement("rect",{x:`${s.x}${s.unit}`,y:`${s.y}${s.unit}`,width:`${s.width}${s.unit}`,height:`${s.height}${s.unit}`,fill:"black"}))),x.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,m)}};w(R,"xOrds",["e","w"]),w(R,"yOrds",["n","s"]),w(R,"xyOrds",["nw","ne","se","sw"]),w(R,"nudgeStep",1),w(R,"nudgeStepMedium",10),w(R,"nudgeStepLarge",100),w(R,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let pe=R;const ge=[{label:"Free",value:void 0,icon:"âœ‚ï¸"},{label:"1:1",value:1,icon:"â¬œ"},{label:"4:3",value:4/3,icon:"ðŸ“º"},{label:"16:9",value:16/9,icon:"ðŸ–¥ï¸"},{label:"3:2",value:3/2,icon:"ðŸ“·"},{label:"9:16",value:9/16,icon:"ðŸ“±"},{label:"3:4",value:3/4,icon:"ðŸ“‹"},{label:"5:4",value:5/4,icon:"ðŸ–¼ï¸"},{label:"2:1",value:2,icon:"ðŸŒ"}],T=[{id:"png",label:"PNG",mime:"image/png"},{id:"jpg",label:"JPG",mime:"image/jpeg"},{id:"webp",label:"WebP",mime:"image/webp"}];function fe(){const[h,e]=y.useState(null),[t,a]=y.useState(),[i,s]=y.useState(null),[l,u]=y.useState(void 0),[r,n]=y.useState(null),[p,g]=y.useState(!1),[m,c]=y.useState(0),[f,v]=y.useState(!1),[C,D]=y.useState(!1),[$,W]=y.useState("png"),[K,G]=y.useState(92),[B,V]=y.useState(!0),A=y.useRef(),L=y.useRef(),U=y.useCallback(d=>{if(!d||!d.type.startsWith("image/"))return;const b=URL.createObjectURL(d);e({url:b,file:d}),a(void 0),n(null),c(0),v(!1),D(!1)},[]),q=d=>{const{width:b,height:H}=d.currentTarget,_=he(le({unit:"%",width:80},l||b/H,b,H),b,H);a(_)},Q=()=>{if(!i||!A.current)return;const d=A.current,b=document.createElement("canvas"),H=d.naturalWidth/d.width,_=d.naturalHeight/d.height,M=i.width*H,E=i.height*_,O=m===90||m===270;b.width=O?E:M,b.height=O?M:E;const N=b.getContext("2d");N.save(),N.translate(b.width/2,b.height/2),N.rotate(m*Math.PI/180),f&&N.scale(-1,1),C&&N.scale(1,-1),N.translate(-(O?E:M)/2,-(O?M:E)/2);const ee=T.find(I=>I.id===$);$==="jpg"&&(N.fillStyle="#ffffff",N.fillRect(0,0,M,E)),N.drawImage(d,i.x*H,i.y*_,M,E,0,0,M,E),N.restore();const te=$==="png"?void 0:K/100;b.toBlob(I=>{const ie=h.file.name.replace(/\.[^.]+$/,"");n({url:URL.createObjectURL(I),name:`${ie}_cropped.${$}`,w:b.width,h:b.height,size:I.size})},ee.mime,te)},J={maxHeight:"55vh",display:"block",maxWidth:"100%",transform:`${f?"scaleX(-1)":""} ${C?"scaleY(-1)":""} rotate(${m}deg)`},Z=d=>d<1024?`${d} B`:d<1048576?`${(d/1024).toFixed(1)} KB`:`${(d/1048576).toFixed(2)} MB`;return o.jsxs(o.Fragment,{children:[o.jsx(se,{title:"Crop Image Online Free - Custom Aspect Ratios",description:"Crop images with custom aspect ratios. Supports 1:1, 4:3, 16:9, free crop, rotate, flip, and more. Free & private.",canonical:"/crop-image"}),o.jsx(ne,{toolSlug:"crop-image",title:"Crop Image",description:"Crop images with precision using custom sizes or popular aspect ratio presets. Rotate, flip, and choose output format.",breadcrumb:"Crop Image",children:o.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"lg:col-span-3 space-y-4",children:h?o.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-xs font-medium text-slate-500 mr-1",children:"Transform:"}),o.jsxs("button",{onClick:()=>c((m+90)%360),className:"px-3 py-1.5 bg-slate-100 hover:bg-pink-50 text-slate-600 hover:text-pink-600 text-xs font-medium rounded-lg transition-all",children:[o.jsx("i",{className:"fas fa-rotate-right mr-1"}),"Rotate 90Â°"]}),o.jsxs("button",{onClick:()=>c((m+180)%360),className:"px-3 py-1.5 bg-slate-100 hover:bg-pink-50 text-slate-600 hover:text-pink-600 text-xs font-medium rounded-lg transition-all",children:[o.jsx("i",{className:"fas fa-rotate mr-1"}),"180Â°"]}),o.jsxs("button",{onClick:()=>v(!f),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-all ${f?"bg-pink-500 text-white":"bg-slate-100 text-slate-600 hover:bg-pink-50 hover:text-pink-600"}`,children:[o.jsx("i",{className:"fas fa-arrows-left-right mr-1"}),"Flip H"]}),o.jsxs("button",{onClick:()=>D(!C),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-all ${C?"bg-pink-500 text-white":"bg-slate-100 text-slate-600 hover:bg-pink-50 hover:text-pink-600"}`,children:[o.jsx("i",{className:"fas fa-arrows-up-down mr-1"}),"Flip V"]}),o.jsxs("button",{onClick:()=>{c(0),v(!1),D(!1)},className:"px-3 py-1.5 bg-slate-100 hover:bg-slate-200 text-slate-500 text-xs font-medium rounded-lg transition-all",children:[o.jsx("i",{className:"fas fa-undo mr-1"}),"Reset"]})]}),o.jsx(pe,{crop:t,onChange:(d,b)=>a(b),onComplete:d=>s(d),aspect:l,minWidth:10,minHeight:10,keepSelection:!0,ruleOfThirds:B,children:o.jsx("img",{ref:A,src:h.url,alt:"Crop",onLoad:q,style:J})}),i&&o.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[o.jsxs("span",{children:[o.jsx("i",{className:"fas fa-crop text-pink-400 mr-1"}),"Crop: ",Math.round(i.width),"Ã—",Math.round(i.height),"px"]}),o.jsxs("span",{children:[o.jsx("i",{className:"fas fa-arrows-rotate text-pink-400 mr-1"}),"Rotation: ",m,"Â°"]})]}),r&&o.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-xl",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("i",{className:"fas fa-circle-check text-green-500"}),o.jsxs("span",{className:"text-sm font-bold text-green-800",children:["Cropped! ",r.w,"Ã—",r.h,"px"]}),o.jsxs("span",{className:"text-xs text-green-600",children:["(",Z(r.size),")"]})]}),o.jsxs("a",{href:r.url,download:r.name,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-xs font-bold transition-all",children:[o.jsx("i",{className:"fas fa-download"})," Download"]})]})]}):o.jsxs("div",{className:`drop-zone group cursor-pointer ${p?"active":""}`,onDrop:d=>{d.preventDefault(),g(!1),U(d.dataTransfer.files[0])},onDragOver:d=>{d.preventDefault(),g(!0)},onDragLeave:()=>g(!1),onClick:()=>{var d;return(d=L.current)==null?void 0:d.click()},children:[o.jsx("input",{ref:L,type:"file",accept:"image/*",className:"hidden",onChange:d=>U(d.target.files[0])}),o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center shadow-lg shadow-pink-500/20 group-hover:scale-110 transition-transform",children:o.jsx("i",{className:"fas fa-crop text-white text-2xl"})}),o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-lg font-bold text-slate-700",children:["Drop image here or ",o.jsx("span",{className:"text-blue-600",children:"browse"})]}),o.jsx("p",{className:"text-slate-400 text-sm mt-0.5",children:"Drag to crop after uploading Â· All formats supported"})]})]})]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 space-y-4",children:[o.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[o.jsx("i",{className:"fas fa-crop text-pink-500"})," Crop Settings"]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] text-slate-500 mb-1.5 font-medium",children:"Aspect Ratio"}),o.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:ge.map(d=>o.jsxs("button",{onClick:()=>u(d.value),className:`py-2 text-xs font-bold rounded-lg transition-all flex flex-col items-center gap-0.5 ${l===d.value?"bg-pink-500 text-white shadow-sm":"bg-slate-50 text-slate-600 hover:bg-pink-50 hover:text-pink-600"}`,children:[o.jsx("span",{className:"text-sm",children:d.icon}),o.jsx("span",{children:d.label})]},d.label))})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:B,onChange:d=>V(d.target.checked),className:"w-4 h-4 rounded border-slate-300 text-pink-500 focus:ring-pink-500"}),o.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Rule of Thirds grid"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] text-slate-500 mb-1.5 font-medium",children:"Output Format"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:T.map(d=>o.jsx("button",{onClick:()=>W(d.id),className:`py-2 rounded-lg text-xs font-bold transition-all ${$===d.id?"bg-blue-600 text-white":"bg-slate-50 text-slate-600 hover:bg-blue-50"}`,children:d.label},d.id))})]}),$!=="png"&&o.jsxs("div",{children:[o.jsxs("label",{className:"flex justify-between text-[10px] text-slate-500 font-medium mb-1",children:[o.jsx("span",{children:"Quality"}),o.jsxs("span",{className:"font-bold text-pink-600",children:[K,"%"]})]}),o.jsx("input",{type:"range",min:"10",max:"100",value:K,onChange:d=>G(+d.target.value),className:"slider-range w-full"})]}),o.jsxs("button",{onClick:Q,disabled:!i,className:"w-full py-3.5 bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 disabled:opacity-50 text-white font-bold rounded-xl transition-all shadow-lg shadow-pink-500/20 flex items-center justify-center gap-2",children:[o.jsx("i",{className:"fas fa-crop"})," Crop & Save"]}),o.jsx("button",{onClick:()=>{e(null),n(null)},className:"w-full py-2 bg-slate-100 hover:bg-slate-200 text-slate-600 text-sm rounded-xl transition-all",children:"Upload New Image"})]})})]})})]})}export{fe as default};
