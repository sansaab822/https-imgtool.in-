const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jszip.min-BjKrJJcn.js","assets/index-CCmJMWXG.js","assets/index-BXoBAPKf.css"])))=>i.map(i=>d[i]);
import{r as n,j as e,_ as Q}from"./index-CCmJMWXG.js";import{p as I}from"./pdfWorker-BfGRlZgu.js";import{S as W}from"./SEO-Dq0iYSMN.js";import{T as X}from"./ToolLayout-BRO4M_A0.js";import"./toolsData-IDNgvhJl.js";const Y=[{value:1,label:"72 DPI (Web)",desc:"Fast, small files",icon:"ðŸŒ"},{value:2,label:"150 DPI (Good)",desc:"Balance of size & quality",icon:"âœ…"},{value:3,label:"300 DPI (Print)",desc:"High quality, larger files",icon:"ðŸ–¨ï¸"}],ee=[{value:"jpg",label:"JPG",desc:"Smaller files",mime:"image/jpeg"},{value:"png",label:"PNG",desc:"Lossless, transparency",mime:"image/png"}];function ne({to:j="jpg"}){const[d,v]=n.useState([]),[i,f]=n.useState(new Set),[C,L]=n.useState(2),[g,O]=n.useState(j),[$,k]=n.useState(!1),[y,_]=n.useState(!1),[P,E]=n.useState(0),[U,S]=n.useState(!1),[B,D]=n.useState(""),[T,A]=n.useState(0),[R,N]=n.useState(null),F=n.useRef(),M=()=>g==="png"?"image/png":"image/jpeg",z=async t=>{if(!(!t||t.type!=="application/pdf")){k(!0),v([]),f(new Set),D(t.name),A(t.size),N(null);try{const o=await t.arrayBuffer(),c=await I.getDocument({data:o}).promise,u=[];for(let a=1;a<=c.numPages;a++){const r=await c.getPage(a),l=r.getViewport({scale:.5}),s=document.createElement("canvas");s.width=l.width,s.height=l.height;const m=s.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,l.width,l.height),await r.render({canvasContext:m,viewport:l}).promise;const h=r.getViewport({scale:1});u.push({num:a,thumb:s.toDataURL("image/jpeg",.6),w:Math.round(h.width),h:Math.round(h.height)})}if(v(u),f(new Set(u.map(a=>a.num))),u.length>0){const a=await c.getPage(1),r=a.getViewport({scale:1.5}),l=document.createElement("canvas");l.width=r.width,l.height=r.height;const s=l.getContext("2d");s.fillStyle="#fff",s.fillRect(0,0,r.width,r.height),await a.render({canvasContext:s,viewport:r}).promise,N({num:1,url:l.toDataURL("image/jpeg",.85)})}}catch(o){alert("Error loading PDF: "+o.message)}k(!1)}},V=t=>f(o=>{const c=new Set(o);return c.has(t)?c.delete(t):c.add(t),c}),G=()=>f(new Set(d.map(t=>t.num))),q=()=>f(new Set),J=async()=>{var r,l;if(!i.size)return;_(!0),E(0);const t=d.filter(s=>i.has(s.num)),o=(l=(r=F.current)==null?void 0:r.files)==null?void 0:l[0];if(!o)return;const c=await o.arrayBuffer(),u=await I.getDocument({data:c}).promise,a=[];for(let s=0;s<t.length;s++){const m=t[s],h=await u.getPage(m.num),x=h.getViewport({scale:C}),p=document.createElement("canvas");p.width=x.width,p.height=x.height;const w=p.getContext("2d");g==="jpg"&&(w.fillStyle="#fff",w.fillRect(0,0,x.width,x.height)),await h.render({canvasContext:w,viewport:x}).promise;const H=await new Promise(K=>p.toBlob(K,M(),.95));a.push({blob:H,name:`page_${m.num}.${g}`}),E(Math.round((s+1)/t.length*100))}if(a.length===1){const s=document.createElement("a");s.href=URL.createObjectURL(a[0].blob),s.download=a[0].name,s.click()}else{const s=(await Q(async()=>{const{default:p}=await import("./jszip.min-BjKrJJcn.js").then(w=>w.j);return{default:p}},__vite__mapDeps([0,1,2]))).default,m=new s;a.forEach(p=>m.file(p.name,p.blob));const h=await m.generateAsync({type:"blob"}),x=document.createElement("a");x.href=URL.createObjectURL(h),x.download=`pdf_to_${g}_pages.zip`,x.click()}_(!1)},Z=t=>t<1024?`${t} B`:t<1048576?`${(t/1024).toFixed(1)} KB`:`${(t/1048576).toFixed(2)} MB`,b=j.toUpperCase();return e.jsxs(e.Fragment,{children:[e.jsx(W,{title:`PDF to ${b} Converter - Free Online`,description:`Convert PDF pages to ${b} images with preview, DPI control, page selection, and batch download.`,canonical:`/pdf-to-${j}`}),e.jsx(X,{toolSlug:`pdf-to-${j}`,title:`PDF to ${b}`,description:"Convert PDF pages to high-quality images with page preview, DPI control, and batch download as ZIP.",breadcrumb:`PDF to ${b}`,children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[!d.length&&!$&&e.jsxs("div",{className:`drop-zone group cursor-pointer ${U?"active":""}`,onDrop:t=>{var o;t.preventDefault(),S(!1),z((o=t.dataTransfer.files)==null?void 0:o[0])},onDragOver:t=>{t.preventDefault(),S(!0)},onDragLeave:()=>S(!1),onClick:()=>{var t;return(t=F.current)==null?void 0:t.click()},children:[e.jsx("input",{ref:F,type:"file",accept:"application/pdf",className:"hidden",onChange:t=>z(t.target.files[0])}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-red-500 to-rose-600 flex items-center justify-center shadow-lg shadow-red-500/20 group-hover:scale-110 transition-transform",children:e.jsx("i",{className:"fas fa-file-pdf text-white text-2xl"})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-lg font-bold text-slate-700",children:["Drop PDF here or ",e.jsx("span",{className:"text-blue-600",children:"browse"})]}),e.jsxs("p",{className:"text-slate-400 text-sm mt-0.5",children:["Preview pages and convert to ",b," images"]})]})]})]}),$&&e.jsxs("div",{className:"flex items-center justify-center gap-3 py-16",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-red-500 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm text-slate-600 font-medium",children:"Loading PDF pages..."})]}),R&&e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 bg-slate-50 border-b border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-file-pdf text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-700 truncate max-w-[250px]",children:B}),e.jsxs("p",{className:"text-[10px] text-slate-400",children:[d.length," page",d.length>1?"s":""," Â· ",Z(T)]})]})]}),e.jsxs("button",{onClick:()=>{v([]),N(null),D("")},className:"text-xs text-slate-400 hover:text-red-500",children:[e.jsx("i",{className:"fas fa-xmark mr-1"}),"Remove"]})]}),e.jsx("div",{className:"p-3 bg-slate-100 flex justify-center",children:e.jsx("img",{src:R.url,alt:"Page 1 preview",className:"max-h-[400px] rounded-lg shadow-lg border border-slate-200"})}),e.jsxs("div",{className:"px-4 py-2 bg-blue-50 border-t border-blue-100 text-xs text-blue-700 text-center",children:[e.jsx("i",{className:"fas fa-eye mr-1"})," First page preview â€” Select pages below to export"]})]}),d.length>0&&e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-slate-50 border-b border-slate-100",children:[e.jsxs("span",{className:"text-sm font-bold text-slate-700",children:[e.jsx("i",{className:"fas fa-th text-red-400 mr-2"}),d.length," pages Â· ",e.jsxs("span",{className:"text-blue-600",children:[i.size," selected"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:G,className:"text-xs text-blue-600 font-medium hover:text-blue-800",children:"Select All"}),e.jsx("button",{onClick:q,className:"text-xs text-slate-400 font-medium hover:text-slate-600",children:"Deselect All"})]})]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3 p-4 max-h-64 overflow-y-auto",children:d.map(t=>e.jsxs("div",{onClick:()=>V(t.num),className:`relative cursor-pointer rounded-xl border-2 overflow-hidden transition-all hover:shadow-md ${i.has(t.num)?"border-blue-500 shadow-blue-100":"border-slate-200 opacity-50"}`,children:[e.jsx("img",{src:t.thumb,alt:`Page ${t.num}`,className:"w-full h-28 object-cover"}),e.jsx("div",{className:"absolute top-1.5 right-1.5",children:e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] transition-all shadow ${i.has(t.num)?"bg-blue-500 text-white":"bg-white/90 text-slate-400 border"}`,children:i.has(t.num)?e.jsx("i",{className:"fas fa-check"}):t.num})}),e.jsxs("p",{className:`text-center text-[10px] py-1 font-bold ${i.has(t.num)?"bg-blue-500 text-white":"bg-slate-50 text-slate-500"}`,children:["Page ",t.num]})]},t.num))})]}),y&&e.jsxs("div",{className:"bg-white rounded-xl border border-red-100 p-5 space-y-3 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-red-500 border-t-transparent rounded-full animate-spin"}),e.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["Rendering ",i.size," pages..."]})]}),e.jsxs("span",{className:"text-sm font-bold text-red-600",children:[P,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2.5 overflow-hidden",children:e.jsx("div",{className:"h-2.5 rounded-full bg-gradient-to-r from-red-500 to-rose-500 transition-all",style:{width:`${P}%`}})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 space-y-4",children:[e.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-gear text-red-500"})," Export Settings"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-slate-500 mb-1.5 font-medium",children:"Output Format"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:ee.map(t=>e.jsxs("button",{onClick:()=>O(t.value),className:`py-2.5 rounded-lg text-center transition-all ${g===t.value?"bg-red-500 text-white shadow-sm":"bg-slate-50 text-slate-600 hover:bg-red-50"}`,children:[e.jsx("span",{className:"text-xs font-bold block",children:t.label}),e.jsx("span",{className:"text-[10px] opacity-75",children:t.desc})]},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-slate-500 mb-1.5 font-medium",children:"Image Quality / DPI"}),e.jsx("div",{className:"space-y-1.5",children:Y.map(t=>e.jsxs("button",{onClick:()=>L(t.value),className:`w-full flex items-center justify-between px-3 py-2.5 rounded-lg transition-all ${C===t.value?"bg-red-500 text-white shadow-sm":"bg-slate-50 text-slate-600 hover:bg-red-50"}`,children:[e.jsxs("span",{className:"text-xs font-bold",children:[t.icon," ",t.label]}),e.jsx("span",{className:"text-[10px] opacity-75",children:t.desc})]},t.value))})]}),e.jsx("button",{onClick:J,disabled:!i.size||y,className:"w-full py-3.5 bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 disabled:opacity-50 text-white font-bold rounded-xl transition-all shadow-lg shadow-red-500/20 flex items-center justify-center gap-2",children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})," Exporting ",P,"%"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-download"})," Export ",i.size," Page",i.size!==1?"s":""," as ",g.toUpperCase()]})}),d.length>0&&e.jsx("button",{onClick:()=>{v([]),N(null),D("")},className:"w-full py-2 bg-slate-100 hover:bg-slate-200 text-slate-600 text-sm rounded-xl transition-all",children:"Upload New PDF"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 rounded-xl border border-red-100 p-4 space-y-2",children:[e.jsxs("h4",{className:"font-bold text-slate-700 text-sm",children:[e.jsx("i",{className:"fas fa-shield-halved text-red-500 mr-2"}),"Features"]}),["Full page preview loading","Page-by-page selection","DPI quality control (72â€“300)","JPG & PNG output formats","Download all as ZIP","100% browser-based â€” no uploads"].map(t=>e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[e.jsx("i",{className:"fas fa-check text-green-500 flex-shrink-0"})," ",t]},t))]})]})]})})]})}export{ne as default};
